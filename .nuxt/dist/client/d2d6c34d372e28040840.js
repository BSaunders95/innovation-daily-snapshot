(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{363:function(r,e,t){r.exports=t.p+"img/29851f7.png"},371:function(r,e,t){"use strict";t.r(e);t(21),t(32);var o,n=t(10),d=t(109),c=t.n(d),l={data:function(){return{user:{name:"",authRoles:[],password:"",superUser:!1},departments:[],showPassword:!1,showChangePassword:!1,readOnly:!0,errors:{},hasPasswordErrors:!1}},mounted:function(){this.getUser()},methods:{getUser:(o=Object(n.a)(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this,r.next=3,c.a.get("/api/departments").then((function(r){return r.data.forEach((function(r){e.departments.push({id:r._id,name:r.name})})),c.a.get("/api/users/"+e.$route.params.id)})).then((function(r){e.user.name=r.data.name,e.user.password=r.data.password,e.user.superUser=void 0!==r.data.superUser&&r.data.superUser,void 0!==r.data.authRoles&&(e.user.authRoles=r.data.authRoles)}));case 3:case"end":return r.stop()}}),r,this)}))),function(){return o.apply(this,arguments)}),saveConfig:function(){var r=this;c.a.put("/api/users/"+this.$route.params.id,this.user).then((function(r){204===r.status&&(window.location.href="/users")})).catch((function(e){r.errors=e.response.data,void 0!==r.errors.passwordError&&(r.hasPasswordErrors=!0)}))},changeShowChangePassword:function(){this.errors={},this.hasPasswordErrors=!1,this.showChangePassword=!0}}},h=t(33),component=Object(h.a)(l,(function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{staticClass:"container-fluid mt-4"},[o("h1",{staticClass:"h1",staticStyle:{"padding-bottom":"40px"}},[o("span",{domProps:{textContent:r._s(r.user.name)}})]),r._v(" "),o("b-col",[o("b-row",{staticClass:"justify-content-md-center"},[o("b-col",{attrs:{lg:"3"}},[o("b-alert",{attrs:{variant:"danger"},model:{value:r.hasPasswordErrors,callback:function(e){r.hasPasswordErrors=e},expression:"hasPasswordErrors"}},[r._v("\n          "+r._s(r.errors.passwordError)+"\n        ")]),r._v(" "),o("b-card",{attrs:{title:"Auth Roles"}},[o("form",r._l(r.departments,(function(e){return o("div",{key:e.id,staticStyle:{"text-align":"left !important"}},[o("b-form-checkbox",{attrs:{size:"lg",value:e.id},model:{value:r.user.authRoles,callback:function(e){r.$set(r.user,"authRoles",e)},expression:"user.authRoles"}},[r._v(r._s(e.name))])],1)})),0)]),r._v(" "),o("b-card",{attrs:{title:"Super User"}},[o("form",[o("div",[o("b-form-checkbox",{attrs:{size:"lg",value:!0,switch:""},model:{value:r.user.superUser,callback:function(e){r.$set(r.user,"superUser",e)},expression:"user.superUser"}})],1)])]),r._v(" "),o("b-input-group",{staticClass:"mt-3"},[o("b-form-input",{attrs:{type:r.showPassword?"text":"password",readonly:r.readOnly},model:{value:r.user.password,callback:function(e){r.$set(r.user,"password",e)},expression:"user.password"}}),r._v(" "),o("b-input-group-append",[o("b-button",{on:{click:function(e){r.showPassword?r.showPassword=!1:r.showPassword=!0}}},[o("img",{attrs:{src:t(363),height:"24px",width:"24px"}})]),r._v(" "),o("b-button",{attrs:{variant:"info"},on:{click:r.changeShowChangePassword}},[r._v("\n              Change\n            ")])],1)],1),r._v(" "),o("b-modal",{attrs:{title:"Change password","header-bg-variant":"secondary","ok-only":""},model:{value:r.showChangePassword,callback:function(e){r.showChangePassword=e},expression:"showChangePassword"}},[o("b-input-group",[o("b-form-input",{model:{value:r.user.password,callback:function(e){r.$set(r.user,"password",e)},expression:"user.password"}})],1)],1)],1)],1)],1),r._v(" "),o("b-col",{staticStyle:{"padding-top":"10px"}},[o("b-row",{staticClass:"justify-content-md-center"},[o("b-btn",{attrs:{variant:"success"},on:{click:r.saveConfig}},[r._v("\n        Save!\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);