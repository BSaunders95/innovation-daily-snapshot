(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{225:function(t,e,n){t.exports=n.p+"img/9b2b33f.png"},355:function(t,e,n){t.exports=n.p+"img/c0cc11b.png"},356:function(t,e,n){t.exports=n.p+"img/9c8565f.png"},357:function(t,e,n){t.exports=n.p+"img/9152237.png"},370:function(t,e,n){"use strict";n.r(e);n(21),n(32);var r,o=n(10),c=n(109),d=n.n(c),m={data:function(){return{showAddDepartment:!1,departmentToAdd:"",departments:[],errors:{},hasNameErrors:!1}},mounted:function(){this.getDepartments()},methods:{getDepartments:(r=Object(o.a)(regeneratorRuntime.mark((function t(){var e,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/departments");case 2:e=t.sent,data=e.data,n=this.departments,data.forEach((function(t){var e;void 0!==t.maxDayPosition&&(e={maxDayPosition:t.maxDayPosition,maxSuccess:t.maxSuccess,maxWarning:t.maxWarning}),n.push({name:t.name,config:e,edit:t._id})}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),addDepartment:function(){var t=this;d.a.post("/api/departments",{name:this.departmentToAdd}).then((function(e){200===e.status&&(t.showAddDepartment=!1,t.departmentToAdd="",t.departments=[],t.getDepartments())})).catch((function(e){t.errors=e.response.data,void 0!==t.errors.nameError&&(t.hasNameErrors=!0)}))},clearErrors:function(){this.errors={},this.hasNameErrors=!1}}},l=n(33),component=Object(l.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid mt-4"},[r("h1",{staticClass:"h1",staticStyle:{"padding-bottom":"40px"}},[t._v("\n    Departments\n  ")]),t._v(" "),r("p",[t._v("\n    Please see below a list of departments actively participating in this project\n  ")]),t._v(" "),r("b-col",[r("b-row",{staticClass:"justify-content-md-center"},[r("b-col",{attrs:{col:"",sm:"4"}},[r("b-table",{attrs:{items:t.departments,fixed:""},scopedSlots:t._u([{key:"cell(config)",fn:function(e){return[e.item.config?r("span",[r("div",{staticStyle:{"max-width":"120px",margin:"auto","text-align":"left"}},[r("span",[r("img",{attrs:{src:n(355),alt:"Success",height:"24",width:"24"}}),t._v(" "),r("strong",[t._v("\n                    0 → "+t._s(e.item.config.maxSuccess)+"\n                  ")])])]),t._v(" "),r("div",{staticStyle:{"max-width":"120px",margin:"auto","text-align":"left"}},[r("span",[r("img",{attrs:{src:n(356),alt:"Average",height:"24",width:"24"}}),t._v(" "),r("strong",[t._v("\n                    "+t._s(e.item.config.maxSuccess)+" → "+t._s(e.item.config.maxWarning)+"\n                  ")])])]),t._v(" "),r("div",{staticStyle:{"max-width":"120px",margin:"auto","text-align":"left"}},[r("span",[r("img",{attrs:{src:n(357),alt:"Warning",height:"24",width:"24"}}),t._v(" "),r("strong",[t._v("\n                    "+t._s(e.item.config.maxWarning)+" → "+t._s(e.item.config.maxDayPosition)+"\n                  ")])])])]):r("span",[t._v("\n              Not yet configured\n            ")])]}},{key:"cell(edit)",fn:function(t){return[r("a",{attrs:{href:"/departments/"+t.item.edit}},[r("img",{attrs:{src:n(225),alt:"Edit",height:"24",width:"24"}})])]}}])})],1)],1)],1),t._v(" "),r("b-col",[r("b-row",{staticClass:"justify-content-md-center"},[r("b-col",{attrs:{col:"",sm:"2"}},[r("b-btn",{attrs:{pill:"",variant:"outline-secondary"},on:{click:function(e){t.showAddDepartment=!0}}},[t._v("\n          +\n        ")]),t._v(" "),r("b-modal",{attrs:{title:"Add Department","header-bg-variant":"secondary"},on:{hide:t.clearErrors},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("b-button",{staticClass:"float-right",attrs:{variant:"outline-secondary",size:"sm"},on:{click:t.addDepartment}},[t._v("\n              Add\n            ")])]},proxy:!0}]),model:{value:t.showAddDepartment,callback:function(e){t.showAddDepartment=e},expression:"showAddDepartment"}},[r("b-alert",{attrs:{variant:"danger"},model:{value:t.hasNameErrors,callback:function(e){t.hasNameErrors=e},expression:"hasNameErrors"}},[t._v("\n            "+t._s(t.errors.nameError)+"\n          ")]),t._v(" "),r("b-input-group",[r("b-form-input",{model:{value:t.departmentToAdd,callback:function(e){t.departmentToAdd=e},expression:"departmentToAdd"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);